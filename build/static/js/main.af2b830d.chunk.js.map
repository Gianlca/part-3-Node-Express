{"version":3,"sources":["services/phonebooks.js","components/Filter.js","components/Notification.js","components/PersonForm.js","components/Persons.js","components/Phonebook.js","layouts/Footer.js","App.js","index.js"],"names":["baseUrl","createPerson","newPerson","a","axios","post","response","deletePerson","id","delete","Filter","handleFilter","onChange","Notification","message","type","className","PersonForm","addPerson","handleInputName","number","name","handleInputNumber","onSubmit","value","Persons","personsToShow","map","person","onClick","Phonebook","useState","persons","setPersons","setNewName","setnumber","filter","setFilter","succesMessage","setSuccessMessage","errorMessage","setErrorMessage","event","preventDefault","newPersonObj","alert","personService","then","concat","data","setTimeout","catch","console","log","error","window","confirm","n","useEffect","get","el","toLocaleLowerCase","includes","target","Footer","style","color","fontStyle","fontSize","App","notex","ReactDOM","render","content","date","important","document","getElementById"],"mappings":"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","file":"static/js/main.af2b830d.chunk.js","sourcesContent":["import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst createPerson = async (newPerson) => {\r\n  const response = await axios.post(baseUrl, newPerson);\r\n  return response;\r\n};\r\n\r\nconst deletePerson = async (id) => {\r\n  const response = await axios.delete(`${baseUrl}/${id}`);\r\n  return response;\r\n};\r\n\r\nexport default { createPerson, deletePerson };\r\n","import React from 'react'\r\n\r\nexport default function Filter({handleFilter}) {\r\n  return (\r\n    <div>filter shown with: <input onChange={handleFilter} /></div>\r\n  )\r\n}\r\n","import React from \"react\";\r\n\r\nexport const Notification = ({ message, type }) => {\r\n  if (message == null) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div>\r\n      <div className={type}>{message}</div>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react'\r\n\r\nexport const PersonForm = ({addPerson, handleInputName, number, name, handleInputNumber}) => {\r\n  return (\r\n    <div>\r\n    <form onSubmit={addPerson}>\r\n      <div>\r\n        name: <input value={name} onChange={handleInputName}/>\r\n        number: <input value={number} onChange={handleInputNumber}/>\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>        \r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\";\r\n\r\nexport const Persons = ({ personsToShow, deletePerson }) => {\r\n  return (\r\n    <div>\r\n      {personsToShow.map((person) => (\r\n        <div key={person.name}>\r\n          {person.name} - {person.number}\r\n          <button onClick={() => deletePerson(person)}>delete</button>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport personService from \"../services/phonebooks\";\r\nimport Filter from \"./Filter\";\r\nimport { Notification } from \"./Notification\";\r\nimport { PersonForm } from \"./PersonForm\";\r\nimport { Persons } from \"./Persons\";\r\nexport default function Phonebook() {\r\n  const [persons, setPersons] = useState([]);\r\n  const [name, setNewName] = useState(\"\");\r\n  const [number, setnumber] = useState(\"\");\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [succesMessage, setSuccessMessage] = useState(null);\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n\r\n  const addPerson = async (event) => {\r\n    event.preventDefault();\r\n    const newPersonObj = {\r\n      name,\r\n      number,\r\n    };\r\n\r\n    for (let element of persons) {\r\n      if (element.name === name) {\r\n        alert(`${name} is already added to phonebook`);\r\n        return;\r\n      }\r\n    }\r\n\r\n    await personService\r\n      .createPerson(newPersonObj)\r\n      .then((response) => {\r\n        setPersons(persons.concat(response.data));\r\n        setSuccessMessage(`Added ${response.data.name}`);\r\n        setNewName(\"\");\r\n        setnumber(\"\");\r\n        setTimeout(() => {\r\n          setSuccessMessage(null);\r\n        }, 5000);\r\n      })\r\n      .catch((errorMessage) => {\r\n        console.log(errorMessage.response.data);\r\n        setErrorMessage(errorMessage.response.data.error);\r\n        setTimeout(() => {\r\n          setErrorMessage(null);\r\n        }, 3000);\r\n      });\r\n  };\r\n\r\n  const deletePerson = async (person) => {\r\n    if (window.confirm(`\"Do you want to delete ${person.name}?\"`)) {\r\n      await personService\r\n        .deletePerson(person.id)\r\n        .then((response) => {\r\n          setPersons(persons.filter((n) => n.id !== person.id));\r\n        })\r\n        .catch((error) => {\r\n          setErrorMessage(\r\n            `Information of ${person.name} has already been removed from server`\r\n          );\r\n          setTimeout(() => {\r\n            setErrorMessage(null);\r\n          }, 5000);\r\n        });\r\n    } else {\r\n      console.log(\"don't delete this person\");\r\n    }\r\n  };\r\n\r\n  const handleInputName = (event) => {\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  const handleInputNumber = (event) => {\r\n    setnumber(event.target.value);\r\n  };\r\n\r\n  const handleFilter = (event) => {\r\n    setFilter(event.target.value);\r\n  };\r\n\r\n  const getPersons = () => {\r\n    const url = \"/api/persons\";\r\n    const promise = axios.get(url);\r\n    return promise;\r\n  };\r\n\r\n  useEffect(() => {\r\n    getPersons().then((response) => setPersons(response.data));\r\n  }, []);\r\n\r\n  const personsToShow = !filter\r\n    ? persons\r\n    : persons.filter((el) =>\r\n        el.name.toLocaleLowerCase().includes(filter.toLocaleLowerCase())\r\n      );\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={succesMessage} type={\"success\"} />\r\n      <Notification message={errorMessage} type={\"error\"} />\r\n      <Filter handleFilter={handleFilter} />\r\n      <br />\r\n      <h3>Add a new person</h3>\r\n      <PersonForm\r\n        addPerson={addPerson}\r\n        handleInputName={handleInputName}\r\n        number={number}\r\n        name={name}\r\n        handleInputNumber={handleInputNumber}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <div>\r\n        <Persons personsToShow={personsToShow} deletePerson={deletePerson} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport const Footer = () => {\r\n  const footerStyle = {\r\n    color: \"green\",\r\n    fontStyle: \"italic\",\r\n    fontSize: 16,\r\n  };\r\n  return (\r\n    <div style={footerStyle}>\r\n      <br />\r\n      <em>\r\n        Note app, Department of Computer Science, University of Helsinki 2021\r\n      </em>\r\n    </div>\r\n  );\r\n};\r\n","import Phonebook from \"./components/Phonebook\";\r\nimport { Footer } from \"./layouts/Footer\";\r\n\r\nconst App = ({ notex }) => {\r\n  return (\r\n    <div>\r\n      {/* <h1>Notes</h1>\r\n      <Notes />\r\n      <h3>Countries Api</h3>\r\n      <Countries /> */}\r\n      <div>\r\n        <Phonebook />\r\n      </div>\r\n      <div>\r\n        <Footer />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import ReactDOM from \"react-dom\";\r\nimport App from \"./App.js\";\r\nimport \"./index.css\";\r\n\r\nconst notes = [\r\n  {\r\n    id: 1,\r\n    content: \"HTML is easy\",\r\n    date: \"2019-05-30T17:30:31.098Z\",\r\n    important: true,\r\n  },\r\n  {\r\n    id: 2,\r\n    content: \"Browser can execute only JavaScript\",\r\n    date: \"2019-05-30T18:39:34.091Z\",\r\n    important: false,\r\n  },\r\n  {\r\n    id: 3,\r\n    content: \"GET and POST are the most important methods of HTTP protocol\",\r\n    date: \"2019-05-30T19:20:14.298Z\",\r\n    important: true,\r\n  },\r\n];\r\n\r\nReactDOM.render(<App notex={notes} />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}